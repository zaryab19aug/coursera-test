<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Family Tree: Smarty_Internal_TemplateCompilerBase Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Family Tree
   &#160;<span id="projectnumber">0.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classSmarty__Internal__TemplateCompilerBase.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classSmarty__Internal__TemplateCompilerBase-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Smarty_Internal_TemplateCompilerBase Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for Smarty_Internal_TemplateCompilerBase:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classSmarty__Internal__TemplateCompilerBase.png" usemap="#Smarty_Internal_TemplateCompilerBase_map" alt=""/>
  <map id="Smarty_Internal_TemplateCompilerBase_map" name="Smarty_Internal_TemplateCompilerBase_map">
<area href="classSmarty__Internal__SmartyTemplateCompiler.html" alt="Smarty_Internal_SmartyTemplateCompiler" shape="rect" coords="0,56,246,80"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a128ba1771dd7940bc0363a4f97111d4a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSmarty__Internal__TemplateCompilerBase.html#a128ba1771dd7940bc0363a4f97111d4a">__construct</a> ()</td></tr>
<tr class="memitem:a3ae4f3e13fb5b7333b5c7da729bcee5f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSmarty__Internal__TemplateCompilerBase.html#a3ae4f3e13fb5b7333b5c7da729bcee5f">compileTemplate</a> (<a class="el" href="classSmarty__Internal__Template.html">Smarty_Internal_Template</a> $<a class="el" href="classtemplate.html">template</a>)</td></tr>
<tr class="memitem:ae7857b1c53a864094c15a1292a605df1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSmarty__Internal__TemplateCompilerBase.html#ae7857b1c53a864094c15a1292a605df1">compileTag</a> ($tag, $args, $parameter=array())</td></tr>
<tr class="memitem:a661dbf460e459f223f856eff0ffc7f14"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSmarty__Internal__TemplateCompilerBase.html#a661dbf460e459f223f856eff0ffc7f14">callTagCompiler</a> ($tag, $args, $param1=null, $param2=null, $param3=null)</td></tr>
<tr class="memitem:a766d88b693c9385729a983ca481900a3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSmarty__Internal__TemplateCompilerBase.html#a766d88b693c9385729a983ca481900a3">getPlugin</a> ($plugin_name, $plugin_type)</td></tr>
<tr class="memitem:aaae265defbd903d2f839e47eb39cf38b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSmarty__Internal__TemplateCompilerBase.html#aaae265defbd903d2f839e47eb39cf38b">getPluginFromDefaultHandler</a> ($tag, $plugin_type)</td></tr>
<tr class="memitem:af455d4c2dd89dd999c61bb2e892ebe6a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSmarty__Internal__TemplateCompilerBase.html#af455d4c2dd89dd999c61bb2e892ebe6a">processNocacheCode</a> ($content, $is_code)</td></tr>
<tr class="memitem:a904ca6d61228f403b2d9df9fd13500bf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSmarty__Internal__TemplateCompilerBase.html#a904ca6d61228f403b2d9df9fd13500bf">trigger_template_error</a> ($args=null, $line=null)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:aa63bf5056ac9beb9fe77aeb09eed7742"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa63bf5056ac9beb9fe77aeb09eed7742"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$suppressNocacheProcessing</b> = false</td></tr>
<tr class="memitem:a8f634dfa3b4dad445e0901e40a6f2a93"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8f634dfa3b4dad445e0901e40a6f2a93"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$suppressMergedTemplates</b> = false</td></tr>
<tr class="memitem:a8825870f562c989d348c1f3811e14472"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8825870f562c989d348c1f3811e14472"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$_tag_stack</b> = array()</td></tr>
<tr class="memitem:a1109336fa4b623ebe2d0afc548f7dc77"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1109336fa4b623ebe2d0afc548f7dc77"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$template</b> = null</td></tr>
<tr class="memitem:abd09f568bd178ecf8ce444b2ab0dd5bb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abd09f568bd178ecf8ce444b2ab0dd5bb"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$merged_templates</b> = array()</td></tr>
<tr class="memitem:a728a813dfee44f738d5e571f90f4d0ad"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a728a813dfee44f738d5e571f90f4d0ad"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$inheritance</b> = false</td></tr>
<tr class="memitem:a0f79789395cb56b8129f502986bb7817"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0f79789395cb56b8129f502986bb7817"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$default_handler_plugins</b> = array()</td></tr>
<tr class="memitem:abf8eed93a2bf586e8b98589b055fe7de"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abf8eed93a2bf586e8b98589b055fe7de"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$default_modifier_list</b> = null</td></tr>
<tr class="memitem:a9d4f33940450a090eb78bafd6f16ace6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9d4f33940450a090eb78bafd6f16ace6"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$forceNocache</b> = false</td></tr>
<tr class="memitem:a13a9fc291ac1e5521e46a4b0a75dfae0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a13a9fc291ac1e5521e46a4b0a75dfae0"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$suppressHeader</b> = false</td></tr>
<tr class="memitem:a95984a524903d080bc2daaa5da6c867a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a95984a524903d080bc2daaa5da6c867a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$suppressTemplatePropertyHeader</b> = false</td></tr>
<tr class="memitem:ad39f7767c132f1750b7b6deb5bf396ac"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad39f7767c132f1750b7b6deb5bf396ac"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$write_compiled_code</b> = true</td></tr>
<tr class="memitem:a1b5544ac6db9ef85f4ad11bc999005aa"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1b5544ac6db9ef85f4ad11bc999005aa"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$compiles_template_function</b> = false</td></tr>
<tr class="memitem:a1ab091f48fc506bafbf485f8e2b838e3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1ab091f48fc506bafbf485f8e2b838e3"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$called_functions</b> = array()</td></tr>
<tr class="memitem:a24acc5e1bae3ecd98e17d7771978e0e9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a24acc5e1bae3ecd98e17d7771978e0e9"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$modifier_plugins</b> = array()</td></tr>
<tr class="memitem:afce372944b531275d9b765e6b4367baa"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afce372944b531275d9b765e6b4367baa"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$known_modifier_type</b> = array()</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a31ea8e114d967285b0e4914adba4be0e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a31ea8e114d967285b0e4914adba4be0e"></a>
static&#160;</td><td class="memItemRight" valign="bottom"><b>$_tag_objects</b> = array()</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a8847fb15b4bb9677c3ef3a051ecbb719"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8847fb15b4bb9677c3ef3a051ecbb719"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$nocache_hash</b> = null</td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="smarty__internal__templatecompilerbase_8php_source.html#l00019">19</a> of file <a class="el" href="smarty__internal__templatecompilerbase_8php_source.html">smarty_internal_templatecompilerbase.php</a>.</p>
</div><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a128ba1771dd7940bc0363a4f97111d4a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Smarty_Internal_TemplateCompilerBase::__construct </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize compiler </p>

<p>Definition at line <a class="el" href="smarty__internal__templatecompilerbase_8php_source.html#l00142">142</a> of file <a class="el" href="smarty__internal__templatecompilerbase_8php_source.html">smarty_internal_templatecompilerbase.php</a>.</p>
<div class="fragment"><div class="line">                                  {</div>
<div class="line">        $this-&gt;nocache_hash = str_replace(<span class="charliteral">&#39;.&#39;</span>, <span class="charliteral">&#39;-&#39;</span>, uniqid(rand(), <span class="keyword">true</span>));</div>
<div class="line">    }</div>
</div><!-- fragment -->
</div>
</div>
<h2>Member Function Documentation</h2>
<a class="anchor" id="a661dbf460e459f223f856eff0ffc7f14"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Smarty_Internal_TemplateCompilerBase::callTagCompiler </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$param1</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$param2</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$param3</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>lazy loads internal compile plugin for tag and calls the compile methode</p>
<p>compile objects cached for reuse. class name format: Smarty_Internal_Compile_TagName plugin filename format: Smarty_Internal_Tagname.php</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$tag</td><td>tag name </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$args</td><td>list of tag attributes </td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$param1</td><td>optional parameter </td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$param2</td><td>optional parameter </td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$param3</td><td>optional parameter </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string compiled code </dd></dl>

<p>Definition at line <a class="el" href="smarty__internal__templatecompilerbase_8php_source.html#l00459">459</a> of file <a class="el" href="smarty__internal__templatecompilerbase_8php_source.html">smarty_internal_templatecompilerbase.php</a>.</p>
<div class="fragment"><div class="line">                                                                                                 {</div>
<div class="line">        <span class="comment">// re-use object if already exists</span></div>
<div class="line">        <span class="keywordflow">if</span> (isset(self::$_tag_objects[$tag])) {</div>
<div class="line">            <span class="comment">// compile this tag</span></div>
<div class="line">            <span class="keywordflow">return</span> self::$_tag_objects[$tag]-&gt;compile($args, $this, $param1, $param2, $param3);</div>
<div class="line">        }</div>
<div class="line">        <span class="comment">// lazy load internal compiler plugin</span></div>
<div class="line">        $class_name = <span class="stringliteral">&#39;Smarty_Internal_Compile_&#39;</span> . $tag;</div>
<div class="line">        <span class="keywordflow">if</span> ($this-&gt;smarty-&gt;loadPlugin($class_name)) {</div>
<div class="line">            <span class="comment">// check if tag allowed by security</span></div>
<div class="line">            <span class="keywordflow">if</span> (!isset($this-&gt;smarty-&gt;security_policy) || $this-&gt;smarty-&gt;security_policy-&gt;isTrustedTag($tag, $this)) {</div>
<div class="line">                <span class="comment">// use plugin if found</span></div>
<div class="line">                self::$_tag_objects[$tag] = <span class="keyword">new</span> $class_name;</div>
<div class="line">                <span class="comment">// compile this tag</span></div>
<div class="line">                <span class="keywordflow">return</span> self::$_tag_objects[$tag]-&gt;compile($args, $this, $param1, $param2, $param3);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="comment">// no internal compile plugin for this tag</span></div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae7857b1c53a864094c15a1292a605df1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Smarty_Internal_TemplateCompilerBase::compileTag </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$parameter</em> = <code>array()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compile Tag</p>
<p>This is a call back from the lexer/parser It executes the required compile plugin for the <a class="el" href="classSmarty.html">Smarty</a> tag</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$tag</td><td>tag name </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$args</td><td>array with tag attributes </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$parameter</td><td>array with compilation parameter </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string compiled code </dd></dl>

<p>Definition at line <a class="el" href="smarty__internal__templatecompilerbase_8php_source.html#l00232">232</a> of file <a class="el" href="smarty__internal__templatecompilerbase_8php_source.html">smarty_internal_templatecompilerbase.php</a>.</p>
<div class="fragment"><div class="line">                                                                  {</div>
<div class="line">        <span class="comment">// $args contains the attributes parsed and compiled by the lexer/parser</span></div>
<div class="line">        <span class="comment">// assume that tag does compile into code, but creates no HTML output</span></div>
<div class="line">        $this-&gt;has_code = <span class="keyword">true</span>;</div>
<div class="line">        $this-&gt;has_output = <span class="keyword">false</span>;</div>
<div class="line">        <span class="comment">// log tag/attributes</span></div>
<div class="line">        <span class="keywordflow">if</span> (isset($this-&gt;smarty-&gt;get_used_tags) &amp;&amp; $this-&gt;smarty-&gt;get_used_tags) {</div>
<div class="line">            $this-&gt;<span class="keyword">template</span>-&gt;used_tags[] = array($tag, $args);</div>
<div class="line">        }</div>
<div class="line">        <span class="comment">// check nocache option flag</span></div>
<div class="line">        <span class="keywordflow">if</span> (in_array(<span class="stringliteral">&quot;&#39;nocache&#39;&quot;</span>, $args) || in_array(array(<span class="stringliteral">&#39;nocache&#39;</span> =&gt; <span class="stringliteral">&#39;true&#39;</span>), $args)</div>
<div class="line">                || in_array(array(<span class="stringliteral">&#39;nocache&#39;</span> =&gt; <span class="stringliteral">&#39;&quot;true&quot;&#39;</span>), $args) || in_array(array(<span class="stringliteral">&#39;nocache&#39;</span> =&gt; <span class="stringliteral">&quot;&#39;true&#39;&quot;</span>), $args)) {</div>
<div class="line">            $this-&gt;tag_nocache = <span class="keyword">true</span>;</div>
<div class="line">        }</div>
<div class="line">        <span class="comment">// compile the smarty tag (required compile classes to compile the tag are autoloaded)</span></div>
<div class="line">        <span class="keywordflow">if</span> (($_output = $this-&gt;<a class="code" href="classSmarty__Internal__TemplateCompilerBase.html#a661dbf460e459f223f856eff0ffc7f14">callTagCompiler</a>($tag, $args, $parameter)) === <span class="keyword">false</span>) {</div>
<div class="line">            <span class="keywordflow">if</span> (isset($this-&gt;smarty-&gt;template_functions[$tag])) {</div>
<div class="line">                <span class="comment">// template defined by {template} tag</span></div>
<div class="line">                $args[<span class="stringliteral">&#39;_attr&#39;</span>][<span class="stringliteral">&#39;name&#39;</span>] = <span class="stringliteral">&quot;&#39;&quot;</span> . $tag . <span class="stringliteral">&quot;&#39;&quot;</span>;</div>
<div class="line">                $_output = $this-&gt;<a class="code" href="classSmarty__Internal__TemplateCompilerBase.html#a661dbf460e459f223f856eff0ffc7f14">callTagCompiler</a>(<span class="stringliteral">&#39;call&#39;</span>, $args, $parameter);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">if</span> ($_output !== <span class="keyword">false</span>) {</div>
<div class="line">            <span class="keywordflow">if</span> ($_output !== <span class="keyword">true</span>) {</div>
<div class="line">                <span class="comment">// did we get compiled code</span></div>
<div class="line">                <span class="keywordflow">if</span> ($this-&gt;has_code) {</div>
<div class="line">                    <span class="comment">// Does it create output?</span></div>
<div class="line">                    <span class="keywordflow">if</span> ($this-&gt;has_output) {</div>
<div class="line">                        $_output .= <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line">                    }</div>
<div class="line">                    <span class="comment">// return compiled code</span></div>
<div class="line">                    <span class="keywordflow">return</span> $_output;</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">            <span class="comment">// tag did not produce compiled code</span></div>
<div class="line">            <span class="keywordflow">return</span> <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            <span class="comment">// map_named attributes</span></div>
<div class="line">            <span class="keywordflow">if</span> (isset($args[<span class="stringliteral">&#39;_attr&#39;</span>])) {</div>
<div class="line">                <span class="keywordflow">foreach</span> ($args[<span class="stringliteral">&#39;_attr&#39;</span>] as $key =&gt; $attribute) {</div>
<div class="line">                    <span class="keywordflow">if</span> (is_array($attribute)) {</div>
<div class="line">                        $args = array_merge($args, $attribute);</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">            <span class="comment">// not an internal compiler tag</span></div>
<div class="line">            <span class="keywordflow">if</span> (strlen($tag) &lt; 6 || substr($tag, -5) != <span class="stringliteral">&#39;close&#39;</span>) {</div>
<div class="line">                <span class="comment">// check if tag is a registered object</span></div>
<div class="line">                <span class="keywordflow">if</span> (isset($this-&gt;smarty-&gt;registered_objects[$tag]) &amp;&amp; isset($parameter[<span class="stringliteral">&#39;object_methode&#39;</span>])) {</div>
<div class="line">                    $methode = $parameter[<span class="stringliteral">&#39;object_methode&#39;</span>];</div>
<div class="line">                    <span class="keywordflow">if</span> (!in_array($methode, $this-&gt;smarty-&gt;registered_objects[$tag][3]) &amp;&amp;</div>
<div class="line">                            (empty($this-&gt;smarty-&gt;registered_objects[$tag][1]) || in_array($methode, $this-&gt;smarty-&gt;registered_objects[$tag][1]))) {</div>
<div class="line">                        <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classSmarty__Internal__TemplateCompilerBase.html#a661dbf460e459f223f856eff0ffc7f14">callTagCompiler</a>(<span class="stringliteral">&#39;private_object_function&#39;</span>, $args, $parameter, $tag, $methode);</div>
<div class="line">                    } elseif (in_array($methode, $this-&gt;smarty-&gt;registered_objects[$tag][3])) {</div>
<div class="line">                        <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classSmarty__Internal__TemplateCompilerBase.html#a661dbf460e459f223f856eff0ffc7f14">callTagCompiler</a>(<span class="stringliteral">&#39;private_object_block_function&#39;</span>, $args, $parameter, $tag, $methode);</div>
<div class="line">                    } <span class="keywordflow">else</span> {</div>
<div class="line">                        <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classSmarty__Internal__TemplateCompilerBase.html#a904ca6d61228f403b2d9df9fd13500bf">trigger_template_error</a>(<span class="stringliteral">&#39;unallowed methode &quot;&#39;</span> . $methode . <span class="stringliteral">&#39;&quot; in registered object &quot;&#39;</span> . $tag . <span class="charliteral">&#39;&quot;&#39;</span>, $this-&gt;lex-&gt;taglineno);</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line">                <span class="comment">// check if tag is registered</span></div>
<div class="line">                <span class="keywordflow">foreach</span> (array(Smarty::PLUGIN_COMPILER, <a class="code" href="classSmarty.html#a5e5181784c595f586c924e8cd6019aa3">Smarty::PLUGIN_FUNCTION</a>, Smarty::PLUGIN_BLOCK) as $plugin_type) {</div>
<div class="line">                    <span class="keywordflow">if</span> (isset($this-&gt;smarty-&gt;registered_plugins[$plugin_type][$tag])) {</div>
<div class="line">                        <span class="comment">// if compiler function plugin call it now</span></div>
<div class="line">                        <span class="keywordflow">if</span> ($plugin_type == Smarty::PLUGIN_COMPILER) {</div>
<div class="line">                            $new_args = array();</div>
<div class="line">                            <span class="keywordflow">foreach</span> ($args as $key =&gt; $mixed) {</div>
<div class="line">                                <span class="keywordflow">if</span> (is_array($mixed)) {</div>
<div class="line">                                    $new_args = array_merge($new_args, $mixed);</div>
<div class="line">                                } <span class="keywordflow">else</span> {</div>
<div class="line">                                    $new_args[$key] = $mixed;</div>
<div class="line">                                }</div>
<div class="line">                            }</div>
<div class="line">                            <span class="keywordflow">if</span> (!$this-&gt;smarty-&gt;registered_plugins[$plugin_type][$tag][1]) {</div>
<div class="line">                                $this-&gt;tag_nocache = <span class="keyword">true</span>;</div>
<div class="line">                            }</div>
<div class="line">                            $function = $this-&gt;smarty-&gt;registered_plugins[$plugin_type][$tag][0];</div>
<div class="line">                            <span class="keywordflow">if</span> (!is_array($function)) {</div>
<div class="line">                                <span class="keywordflow">return</span> $function($new_args, $this);</div>
<div class="line">                            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (is_object($function[0])) {</div>
<div class="line">                                <span class="keywordflow">return</span> $this-&gt;smarty-&gt;registered_plugins[$plugin_type][$tag][0][0]-&gt;$function[1]($new_args, $this);</div>
<div class="line">                            } <span class="keywordflow">else</span> {</div>
<div class="line">                                <span class="keywordflow">return</span> call_user_func_array($function, array($new_args, $this));</div>
<div class="line">                            }</div>
<div class="line">                        }</div>
<div class="line">                        <span class="comment">// compile registered function or block function</span></div>
<div class="line">                        <span class="keywordflow">if</span> ($plugin_type == <a class="code" href="classSmarty.html#a5e5181784c595f586c924e8cd6019aa3">Smarty::PLUGIN_FUNCTION</a> || $plugin_type == Smarty::PLUGIN_BLOCK) {</div>
<div class="line">                            <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classSmarty__Internal__TemplateCompilerBase.html#a661dbf460e459f223f856eff0ffc7f14">callTagCompiler</a>(<span class="stringliteral">&#39;private_registered_&#39;</span> . $plugin_type, $args, $parameter, $tag);</div>
<div class="line">                        }</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line">                <span class="comment">// check plugins from plugins folder</span></div>
<div class="line">                <span class="keywordflow">foreach</span> ($this-&gt;smarty-&gt;plugin_search_order as $plugin_type) {</div>
<div class="line">                    <span class="keywordflow">if</span> ($plugin_type == Smarty::PLUGIN_BLOCK &amp;&amp; $this-&gt;smarty-&gt;loadPlugin(<span class="stringliteral">&#39;smarty_compiler_&#39;</span> . $tag) &amp;&amp; (!isset($this-&gt;smarty-&gt;security_policy) || $this-&gt;smarty-&gt;security_policy-&gt;isTrustedTag($tag, $this))) {</div>
<div class="line">                        $plugin = <span class="stringliteral">&#39;smarty_compiler_&#39;</span> . $tag;</div>
<div class="line">                        <span class="keywordflow">if</span> (is_callable($plugin)) {</div>
<div class="line">                            <span class="comment">// convert arguments format for old compiler plugins</span></div>
<div class="line">                            $new_args = array();</div>
<div class="line">                            <span class="keywordflow">foreach</span> ($args as $key =&gt; $mixed) {</div>
<div class="line">                                <span class="keywordflow">if</span> (is_array($mixed)) {</div>
<div class="line">                                    $new_args = array_merge($new_args, $mixed);</div>
<div class="line">                                } <span class="keywordflow">else</span> {</div>
<div class="line">                                    $new_args[$key] = $mixed;</div>
<div class="line">                                }</div>
<div class="line">                            }</div>
<div class="line">                            <span class="keywordflow">return</span> $plugin($new_args, $this-&gt;smarty);</div>
<div class="line">                        }</div>
<div class="line">                        <span class="keywordflow">if</span> (class_exists($plugin, <span class="keyword">false</span>)) {</div>
<div class="line">                            $plugin_object = <span class="keyword">new</span> $plugin;</div>
<div class="line">                            <span class="keywordflow">if</span> (method_exists($plugin_object, <span class="stringliteral">&#39;compile&#39;</span>)) {</div>
<div class="line">                                <span class="keywordflow">return</span> $plugin_object-&gt;compile($args, $this);</div>
<div class="line">                            }</div>
<div class="line">                        }</div>
<div class="line">                        <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classSmartyException.html">SmartyException</a>(<span class="stringliteral">&quot;Plugin \&quot;{$tag}\&quot; not callable&quot;</span>);</div>
<div class="line">                    } <span class="keywordflow">else</span> {</div>
<div class="line">                        <span class="keywordflow">if</span> ($function = $this-&gt;<a class="code" href="classSmarty__Internal__TemplateCompilerBase.html#a766d88b693c9385729a983ca481900a3">getPlugin</a>($tag, $plugin_type)) {</div>
<div class="line">                            <span class="keywordflow">if</span> (!isset($this-&gt;smarty-&gt;security_policy) || $this-&gt;smarty-&gt;security_policy-&gt;isTrustedTag($tag, $this)) {</div>
<div class="line">                                <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classSmarty__Internal__TemplateCompilerBase.html#a661dbf460e459f223f856eff0ffc7f14">callTagCompiler</a>(<span class="stringliteral">&#39;private_&#39;</span> . $plugin_type . <span class="stringliteral">&#39;_plugin&#39;</span>, $args, $parameter, $tag, $function);</div>
<div class="line">                            }</div>
<div class="line">                        }</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">if</span> (is_callable($this-&gt;smarty-&gt;default_plugin_handler_func)) {</div>
<div class="line">                    $found = <span class="keyword">false</span>;</div>
<div class="line">                    <span class="comment">// look for already resolved tags</span></div>
<div class="line">                    <span class="keywordflow">foreach</span> ($this-&gt;smarty-&gt;plugin_search_order as $plugin_type) {</div>
<div class="line">                        <span class="keywordflow">if</span> (isset($this-&gt;default_handler_plugins[$plugin_type][$tag])) {</div>
<div class="line">                            $found = <span class="keyword">true</span>;</div>
<div class="line">                            <span class="keywordflow">break</span>;</div>
<div class="line">                        }</div>
<div class="line">                    }</div>
<div class="line">                    <span class="keywordflow">if</span> (!$found) {</div>
<div class="line">                        <span class="comment">// call default handler</span></div>
<div class="line">                        <span class="keywordflow">foreach</span> ($this-&gt;smarty-&gt;plugin_search_order as $plugin_type) {</div>
<div class="line">                            <span class="keywordflow">if</span> ($this-&gt;<a class="code" href="classSmarty__Internal__TemplateCompilerBase.html#aaae265defbd903d2f839e47eb39cf38b">getPluginFromDefaultHandler</a>($tag, $plugin_type)) {</div>
<div class="line">                                $found = <span class="keyword">true</span>;</div>
<div class="line">                                <span class="keywordflow">break</span>;</div>
<div class="line">                            }</div>
<div class="line">                        }</div>
<div class="line">                    }</div>
<div class="line">                    <span class="keywordflow">if</span> ($found) {</div>
<div class="line">                        <span class="comment">// if compiler function plugin call it now</span></div>
<div class="line">                        <span class="keywordflow">if</span> ($plugin_type == Smarty::PLUGIN_COMPILER) {</div>
<div class="line">                            $new_args = array();</div>
<div class="line">                            <span class="keywordflow">foreach</span> ($args as $mixed) {</div>
<div class="line">                                $new_args = array_merge($new_args, $mixed);</div>
<div class="line">                            }</div>
<div class="line">                            $function = $this-&gt;default_handler_plugins[$plugin_type][$tag][0];</div>
<div class="line">                            <span class="keywordflow">if</span> (!is_array($function)) {</div>
<div class="line">                                <span class="keywordflow">return</span> $function($new_args, $this);</div>
<div class="line">                            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (is_object($function[0])) {</div>
<div class="line">                                <span class="keywordflow">return</span> $this-&gt;default_handler_plugins[$plugin_type][$tag][0][0]-&gt;$function[1]($new_args, $this);</div>
<div class="line">                            } <span class="keywordflow">else</span> {</div>
<div class="line">                                <span class="keywordflow">return</span> call_user_func_array($function, array($new_args, $this));</div>
<div class="line">                            }</div>
<div class="line">                        } <span class="keywordflow">else</span> {</div>
<div class="line">                            <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classSmarty__Internal__TemplateCompilerBase.html#a661dbf460e459f223f856eff0ffc7f14">callTagCompiler</a>(<span class="stringliteral">&#39;private_registered_&#39;</span> . $plugin_type, $args, $parameter, $tag);</div>
<div class="line">                        }</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line">            } <span class="keywordflow">else</span> {</div>
<div class="line">                <span class="comment">// compile closing tag of block function</span></div>
<div class="line">                $base_tag = substr($tag, 0, -5);</div>
<div class="line">                <span class="comment">// check if closing tag is a registered object</span></div>
<div class="line">                <span class="keywordflow">if</span> (isset($this-&gt;smarty-&gt;registered_objects[$base_tag]) &amp;&amp; isset($parameter[<span class="stringliteral">&#39;object_methode&#39;</span>])) {</div>
<div class="line">                    $methode = $parameter[<span class="stringliteral">&#39;object_methode&#39;</span>];</div>
<div class="line">                    <span class="keywordflow">if</span> (in_array($methode, $this-&gt;smarty-&gt;registered_objects[$base_tag][3])) {</div>
<div class="line">                        <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classSmarty__Internal__TemplateCompilerBase.html#a661dbf460e459f223f856eff0ffc7f14">callTagCompiler</a>(<span class="stringliteral">&#39;private_object_block_function&#39;</span>, $args, $parameter, $tag, $methode);</div>
<div class="line">                    } <span class="keywordflow">else</span> {</div>
<div class="line">                        <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classSmarty__Internal__TemplateCompilerBase.html#a904ca6d61228f403b2d9df9fd13500bf">trigger_template_error</a>(<span class="stringliteral">&#39;unallowed closing tag methode &quot;&#39;</span> . $methode . <span class="stringliteral">&#39;&quot; in registered object &quot;&#39;</span> . $base_tag . <span class="charliteral">&#39;&quot;&#39;</span>, $this-&gt;lex-&gt;taglineno);</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line">                <span class="comment">// registered block tag ?</span></div>
<div class="line">                <span class="keywordflow">if</span> (isset($this-&gt;smarty-&gt;registered_plugins[Smarty::PLUGIN_BLOCK][$base_tag]) || isset($this-&gt;default_handler_plugins[Smarty::PLUGIN_BLOCK][$base_tag])) {</div>
<div class="line">                    <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classSmarty__Internal__TemplateCompilerBase.html#a661dbf460e459f223f856eff0ffc7f14">callTagCompiler</a>(<span class="stringliteral">&#39;private_registered_block&#39;</span>, $args, $parameter, $tag);</div>
<div class="line">                }</div>
<div class="line">                <span class="comment">// block plugin?</span></div>
<div class="line">                <span class="keywordflow">if</span> ($function = $this-&gt;<a class="code" href="classSmarty__Internal__TemplateCompilerBase.html#a766d88b693c9385729a983ca481900a3">getPlugin</a>($base_tag, Smarty::PLUGIN_BLOCK)) {</div>
<div class="line">                    <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classSmarty__Internal__TemplateCompilerBase.html#a661dbf460e459f223f856eff0ffc7f14">callTagCompiler</a>(<span class="stringliteral">&#39;private_block_plugin&#39;</span>, $args, $parameter, $tag, $function);</div>
<div class="line">                }</div>
<div class="line">                <span class="comment">// registered compiler plugin ?</span></div>
<div class="line">                <span class="keywordflow">if</span> (isset($this-&gt;smarty-&gt;registered_plugins[Smarty::PLUGIN_COMPILER][$tag])) {</div>
<div class="line">                    <span class="comment">// if compiler function plugin call it now</span></div>
<div class="line">                    $args = array();</div>
<div class="line">                    <span class="keywordflow">if</span> (!$this-&gt;smarty-&gt;registered_plugins[Smarty::PLUGIN_COMPILER][$tag][1]) {</div>
<div class="line">                        $this-&gt;tag_nocache = <span class="keyword">true</span>;</div>
<div class="line">                    }</div>
<div class="line">                    $function = $this-&gt;smarty-&gt;registered_plugins[Smarty::PLUGIN_COMPILER][$tag][0];</div>
<div class="line">                    <span class="keywordflow">if</span> (!is_array($function)) {</div>
<div class="line">                        <span class="keywordflow">return</span> $function($args, $this);</div>
<div class="line">                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (is_object($function[0])) {</div>
<div class="line">                        <span class="keywordflow">return</span> $this-&gt;smarty-&gt;registered_plugins[Smarty::PLUGIN_COMPILER][$tag][0][0]-&gt;$function[1]($args, $this);</div>
<div class="line">                    } <span class="keywordflow">else</span> {</div>
<div class="line">                        <span class="keywordflow">return</span> call_user_func_array($function, array($args, $this));</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">if</span> ($this-&gt;smarty-&gt;loadPlugin(<span class="stringliteral">&#39;smarty_compiler_&#39;</span> . $tag)) {</div>
<div class="line">                    $plugin = <span class="stringliteral">&#39;smarty_compiler_&#39;</span> . $tag;</div>
<div class="line">                    <span class="keywordflow">if</span> (is_callable($plugin)) {</div>
<div class="line">                        <span class="keywordflow">return</span> $plugin($args, $this-&gt;smarty);</div>
<div class="line">                    }</div>
<div class="line">                    <span class="keywordflow">if</span> (class_exists($plugin, <span class="keyword">false</span>)) {</div>
<div class="line">                        $plugin_object = <span class="keyword">new</span> $plugin;</div>
<div class="line">                        <span class="keywordflow">if</span> (method_exists($plugin_object, <span class="stringliteral">&#39;compile&#39;</span>)) {</div>
<div class="line">                            <span class="keywordflow">return</span> $plugin_object-&gt;compile($args, $this);</div>
<div class="line">                        }</div>
<div class="line">                    }</div>
<div class="line">                    <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classSmartyException.html">SmartyException</a>(<span class="stringliteral">&quot;Plugin \&quot;{$tag}\&quot; not callable&quot;</span>);</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">            $this-&gt;<a class="code" href="classSmarty__Internal__TemplateCompilerBase.html#a904ca6d61228f403b2d9df9fd13500bf">trigger_template_error</a>(<span class="stringliteral">&quot;unknown tag \&quot;&quot;</span> . $tag . <span class="stringliteral">&quot;\&quot;&quot;</span>, $this-&gt;lex-&gt;taglineno);</div>
<div class="line">        }</div>
<div class="line">    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3ae4f3e13fb5b7333b5c7da729bcee5f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Smarty_Internal_TemplateCompilerBase::compileTemplate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSmarty__Internal__Template.html">Smarty_Internal_Template</a>&#160;</td>
          <td class="paramname"><em>$template</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Method to compile a <a class="el" href="classSmarty.html">Smarty</a> template</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="classSmarty__Internal__Template.html">Smarty_Internal_Template</a></td><td class="paramname">$template</td><td>template object to compile </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool true if compiling succeeded, false if it failed </dd></dl>

<p>Definition at line <a class="el" href="smarty__internal__templatecompilerbase_8php_source.html#l00152">152</a> of file <a class="el" href="smarty__internal__templatecompilerbase_8php_source.html">smarty_internal_templatecompilerbase.php</a>.</p>
<div class="fragment"><div class="line">                                                                        {</div>
<div class="line">        <span class="keywordflow">if</span> (empty($template-&gt;properties[<span class="stringliteral">&#39;nocache_hash&#39;</span>])) {</div>
<div class="line">            $template-&gt;properties[<span class="stringliteral">&#39;nocache_hash&#39;</span>] = $this-&gt;nocache_hash;</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            $this-&gt;nocache_hash = $template-&gt;properties[<span class="stringliteral">&#39;nocache_hash&#39;</span>];</div>
<div class="line">        }</div>
<div class="line">        <span class="comment">// flag for nochache sections</span></div>
<div class="line">        $this-&gt;nocache = <span class="keyword">false</span>;</div>
<div class="line">        $this-&gt;tag_nocache = <span class="keyword">false</span>;</div>
<div class="line">        <span class="comment">// save template object in compiler class</span></div>
<div class="line">        $this-&gt;<span class="keyword">template</span> = $template;</div>
<div class="line">        <span class="comment">// reset has noche code flag</span></div>
<div class="line">        $this-&gt;<span class="keyword">template</span>-&gt;has_nocache_code = <span class="keyword">false</span>;</div>
<div class="line">        $this-&gt;smarty-&gt;_current_file = $saved_filepath = $this-&gt;<span class="keyword">template</span>-&gt;source-&gt;filepath;</div>
<div class="line">        <span class="comment">// template header code</span></div>
<div class="line">        $template_header = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line">        <span class="keywordflow">if</span> (!$this-&gt;suppressHeader) {</div>
<div class="line">            $template_header .= <span class="stringliteral">&quot;&lt;?php /* Smarty version &quot;</span> . <a class="code" href="classSmarty.html#a208a7fc22324960b3ab5e9a9811870fb">Smarty::SMARTY_VERSION</a> . <span class="stringliteral">&quot;, created on &quot;</span> . strftime(<span class="stringliteral">&quot;%Y-%m-%d %H:%M:%S&quot;</span>) . <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line">            $template_header .= <span class="stringliteral">&quot;         compiled from \&quot;&quot;</span> . $this-&gt;<span class="keyword">template</span>-&gt;source-&gt;filepath . <span class="stringliteral">&quot;\&quot; */ ?&gt;\n&quot;</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">do</span> {</div>
<div class="line">            <span class="comment">// flag for aborting current and start recompile</span></div>
<div class="line">            $this-&gt;abort_and_recompile = <span class="keyword">false</span>;</div>
<div class="line">            <span class="comment">// get template source</span></div>
<div class="line">            $_content = $template-&gt;source-&gt;content;</div>
<div class="line">            <span class="comment">// run prefilter if required</span></div>
<div class="line">            <span class="keywordflow">if</span> (isset($this-&gt;smarty-&gt;autoload_filters[<span class="stringliteral">&#39;pre&#39;</span>]) || isset($this-&gt;smarty-&gt;registered_filters[<span class="stringliteral">&#39;pre&#39;</span>])) {</div>
<div class="line">                $_content = <a class="code" href="classSmarty__Internal__Filter__Handler.html#afe9bb9a65483205bfb2ebadf4729fd87">Smarty_Internal_Filter_Handler::runFilter</a>(<span class="stringliteral">&#39;pre&#39;</span>, $_content, $template);</div>
<div class="line">            }</div>
<div class="line">            <span class="comment">// on empty template just return header</span></div>
<div class="line">            <span class="keywordflow">if</span> ($_content == <span class="stringliteral">&#39;&#39;</span>) {</div>
<div class="line">                <span class="keywordflow">if</span> ($this-&gt;suppressTemplatePropertyHeader) {</div>
<div class="line">                    $code = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line">                } <span class="keywordflow">else</span> {</div>
<div class="line">                    $code = $template_header . $template-&gt;<a class="code" href="classSmarty__Internal__Template.html#a76885c24bbd4a47bd6e5b04c22acee1e">createTemplateCodeFrame</a>();</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">return</span> $code;</div>
<div class="line">            }</div>
<div class="line">            <span class="comment">// call compiler</span></div>
<div class="line">            $_compiled_code = $this-&gt;doCompile($_content);</div>
<div class="line">        } <span class="keywordflow">while</span> ($this-&gt;abort_and_recompile);</div>
<div class="line">        $this-&gt;<span class="keyword">template</span>-&gt;source-&gt;filepath = $saved_filepath;</div>
<div class="line">        <span class="comment">// free memory</span></div>
<div class="line">        unset($this-&gt;parser-&gt;root_buffer, $this-&gt;parser-&gt;current_buffer, $this-&gt;parser, $this-&gt;lex, $this-&gt;template);</div>
<div class="line">        self::$_tag_objects = array();</div>
<div class="line">        <span class="comment">// return compiled code to template object</span></div>
<div class="line">        $merged_code = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line">        <span class="keywordflow">if</span> (!$this-&gt;suppressMergedTemplates &amp;&amp; !empty($this-&gt;merged_templates)) {</div>
<div class="line">            <span class="keywordflow">foreach</span> ($this-&gt;merged_templates as $code) {</div>
<div class="line">                $merged_code .= $code;</div>
<div class="line">            }</div>
<div class="line">            <span class="comment">// run postfilter if required on merged code</span></div>
<div class="line">            <span class="keywordflow">if</span> (isset($this-&gt;smarty-&gt;autoload_filters[<span class="stringliteral">&#39;post&#39;</span>]) || isset($this-&gt;smarty-&gt;registered_filters[<span class="stringliteral">&#39;post&#39;</span>])) {</div>
<div class="line">                $merged_code = <a class="code" href="classSmarty__Internal__Filter__Handler.html#afe9bb9a65483205bfb2ebadf4729fd87">Smarty_Internal_Filter_Handler::runFilter</a>(<span class="stringliteral">&#39;post&#39;</span>, $merged_code, $template);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="comment">// run postfilter if required on compiled template code</span></div>
<div class="line">        <span class="keywordflow">if</span> (isset($this-&gt;smarty-&gt;autoload_filters[<span class="stringliteral">&#39;post&#39;</span>]) || isset($this-&gt;smarty-&gt;registered_filters[<span class="stringliteral">&#39;post&#39;</span>])) {</div>
<div class="line">            $_compiled_code = <a class="code" href="classSmarty__Internal__Filter__Handler.html#afe9bb9a65483205bfb2ebadf4729fd87">Smarty_Internal_Filter_Handler::runFilter</a>(<span class="stringliteral">&#39;post&#39;</span>, $_compiled_code, $template);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">if</span> ($this-&gt;suppressTemplatePropertyHeader) {</div>
<div class="line">            $code = $_compiled_code . $merged_code;</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            $code = $template_header . $template-&gt;<a class="code" href="classSmarty__Internal__Template.html#a76885c24bbd4a47bd6e5b04c22acee1e">createTemplateCodeFrame</a>($_compiled_code) . $merged_code;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">return</span> $code;</div>
<div class="line">    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a766d88b693c9385729a983ca481900a3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Smarty_Internal_TemplateCompilerBase::getPlugin </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$plugin_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$plugin_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check for plugins and return function name</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$pugin_name</td><td>name of plugin or function </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$plugin_type</td><td>type of plugin </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string call name of function </dd></dl>

<p>Definition at line <a class="el" href="smarty__internal__templatecompilerbase_8php_source.html#l00487">487</a> of file <a class="el" href="smarty__internal__templatecompilerbase_8php_source.html">smarty_internal_templatecompilerbase.php</a>.</p>
<div class="fragment"><div class="line">                                                          {</div>
<div class="line">        $function = null;</div>
<div class="line">        <span class="keywordflow">if</span> ($this-&gt;<a class="code" href="classtemplate.html">template</a>-&gt;caching &amp;&amp; ($this-&gt;nocache || $this-&gt;tag_nocache)) {</div>
<div class="line">            <span class="keywordflow">if</span> (isset($this-&gt;<a class="code" href="classtemplate.html">template</a>-&gt;required_plugins[<span class="stringliteral">&#39;nocache&#39;</span>][$plugin_name][$plugin_type])) {</div>
<div class="line">                $function = $this-&gt;<span class="keyword">template</span>-&gt;required_plugins[<span class="stringliteral">&#39;nocache&#39;</span>][$plugin_name][$plugin_type][<span class="stringliteral">&#39;function&#39;</span>];</div>
<div class="line">            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isset($this-&gt;<a class="code" href="classtemplate.html">template</a>-&gt;required_plugins[<span class="stringliteral">&#39;compiled&#39;</span>][$plugin_name][$plugin_type])) {</div>
<div class="line">                $this-&gt;<span class="keyword">template</span>-&gt;required_plugins[<span class="stringliteral">&#39;nocache&#39;</span>][$plugin_name][$plugin_type] = $this-&gt;<span class="keyword">template</span>-&gt;required_plugins[<span class="stringliteral">&#39;compiled&#39;</span>][$plugin_name][$plugin_type];</div>
<div class="line">                $function = $this-&gt;<span class="keyword">template</span>-&gt;required_plugins[<span class="stringliteral">&#39;nocache&#39;</span>][$plugin_name][$plugin_type][<span class="stringliteral">&#39;function&#39;</span>];</div>
<div class="line">            }</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            <span class="keywordflow">if</span> (isset($this-&gt;<a class="code" href="classtemplate.html">template</a>-&gt;required_plugins[<span class="stringliteral">&#39;compiled&#39;</span>][$plugin_name][$plugin_type])) {</div>
<div class="line">                $function = $this-&gt;<span class="keyword">template</span>-&gt;required_plugins[<span class="stringliteral">&#39;compiled&#39;</span>][$plugin_name][$plugin_type][<span class="stringliteral">&#39;function&#39;</span>];</div>
<div class="line">            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isset($this-&gt;<a class="code" href="classtemplate.html">template</a>-&gt;required_plugins[<span class="stringliteral">&#39;nocache&#39;</span>][$plugin_name][$plugin_type])) {</div>
<div class="line">                $this-&gt;<span class="keyword">template</span>-&gt;required_plugins[<span class="stringliteral">&#39;compiled&#39;</span>][$plugin_name][$plugin_type] = $this-&gt;<span class="keyword">template</span>-&gt;required_plugins[<span class="stringliteral">&#39;nocache&#39;</span>][$plugin_name][$plugin_type];</div>
<div class="line">                $function = $this-&gt;<span class="keyword">template</span>-&gt;required_plugins[<span class="stringliteral">&#39;compiled&#39;</span>][$plugin_name][$plugin_type][<span class="stringliteral">&#39;function&#39;</span>];</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">if</span> (isset($function)) {</div>
<div class="line">            <span class="keywordflow">if</span> ($plugin_type == <span class="stringliteral">&#39;modifier&#39;</span>) {</div>
<div class="line">                $this-&gt;modifier_plugins[$plugin_name] = <span class="keyword">true</span>;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">return</span> $function;</div>
<div class="line">        }</div>
<div class="line">        <span class="comment">// loop through plugin dirs and find the plugin</span></div>
<div class="line">        $function = <span class="stringliteral">&#39;smarty_&#39;</span> . $plugin_type . <span class="charliteral">&#39;_&#39;</span> . $plugin_name;</div>
<div class="line">        $file = $this-&gt;smarty-&gt;loadPlugin($function, <span class="keyword">false</span>);</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (is_string($file)) {</div>
<div class="line">            <span class="keywordflow">if</span> ($this-&gt;<a class="code" href="classtemplate.html">template</a>-&gt;caching &amp;&amp; ($this-&gt;nocache || $this-&gt;tag_nocache)) {</div>
<div class="line">                $this-&gt;<span class="keyword">template</span>-&gt;required_plugins[<span class="stringliteral">&#39;nocache&#39;</span>][$plugin_name][$plugin_type][<span class="stringliteral">&#39;file&#39;</span>] = $file;</div>
<div class="line">                $this-&gt;<span class="keyword">template</span>-&gt;required_plugins[<span class="stringliteral">&#39;nocache&#39;</span>][$plugin_name][$plugin_type][<span class="stringliteral">&#39;function&#39;</span>] = $function;</div>
<div class="line">            } <span class="keywordflow">else</span> {</div>
<div class="line">                $this-&gt;<span class="keyword">template</span>-&gt;required_plugins[<span class="stringliteral">&#39;compiled&#39;</span>][$plugin_name][$plugin_type][<span class="stringliteral">&#39;file&#39;</span>] = $file;</div>
<div class="line">                $this-&gt;<span class="keyword">template</span>-&gt;required_plugins[<span class="stringliteral">&#39;compiled&#39;</span>][$plugin_name][$plugin_type][<span class="stringliteral">&#39;function&#39;</span>] = $function;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">if</span> ($plugin_type == <span class="stringliteral">&#39;modifier&#39;</span>) {</div>
<div class="line">                $this-&gt;modifier_plugins[$plugin_name] = <span class="keyword">true</span>;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">return</span> $function;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">if</span> (is_callable($function)) {</div>
<div class="line">            <span class="comment">// plugin function is defined in the script</span></div>
<div class="line">            <span class="keywordflow">return</span> $function;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aaae265defbd903d2f839e47eb39cf38b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Smarty_Internal_TemplateCompilerBase::getPluginFromDefaultHandler </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$plugin_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check for plugins by default plugin handler</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$tag</td><td>name of tag </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$plugin_type</td><td>type of plugin </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>boolean true if found </dd></dl>

<p>Definition at line <a class="el" href="smarty__internal__templatecompilerbase_8php_source.html#l00541">541</a> of file <a class="el" href="smarty__internal__templatecompilerbase_8php_source.html">smarty_internal_templatecompilerbase.php</a>.</p>
<div class="fragment"><div class="line">                                                                    {</div>
<div class="line">        $callback = null;</div>
<div class="line">        $script = null;</div>
<div class="line">        $cacheable = <span class="keyword">true</span>;</div>
<div class="line">        $result = call_user_func_array(</div>
<div class="line">                $this-&gt;smarty-&gt;default_plugin_handler_func, array($tag, $plugin_type, $this-&gt;<span class="keyword">template</span>, &amp;$callback, &amp;$script, &amp;$cacheable)</div>
<div class="line">        );</div>
<div class="line">        <span class="keywordflow">if</span> ($result) {</div>
<div class="line">            $this-&gt;tag_nocache = $this-&gt;tag_nocache || !$cacheable;</div>
<div class="line">            <span class="keywordflow">if</span> ($script !== null) {</div>
<div class="line">                <span class="keywordflow">if</span> (is_file($script)) {</div>
<div class="line">                    <span class="keywordflow">if</span> ($this-&gt;<a class="code" href="classtemplate.html">template</a>-&gt;caching &amp;&amp; ($this-&gt;nocache || $this-&gt;tag_nocache)) {</div>
<div class="line">                        $this-&gt;<span class="keyword">template</span>-&gt;required_plugins[<span class="stringliteral">&#39;nocache&#39;</span>][$tag][$plugin_type][<span class="stringliteral">&#39;file&#39;</span>] = $script;</div>
<div class="line">                        $this-&gt;<span class="keyword">template</span>-&gt;required_plugins[<span class="stringliteral">&#39;nocache&#39;</span>][$tag][$plugin_type][<span class="stringliteral">&#39;function&#39;</span>] = $callback;</div>
<div class="line">                    } <span class="keywordflow">else</span> {</div>
<div class="line">                        $this-&gt;<span class="keyword">template</span>-&gt;required_plugins[<span class="stringliteral">&#39;compiled&#39;</span>][$tag][$plugin_type][<span class="stringliteral">&#39;file&#39;</span>] = $script;</div>
<div class="line">                        $this-&gt;<span class="keyword">template</span>-&gt;required_plugins[<span class="stringliteral">&#39;compiled&#39;</span>][$tag][$plugin_type][<span class="stringliteral">&#39;function&#39;</span>] = $callback;</div>
<div class="line">                    }</div>
<div class="line">                    include_once $script;</div>
<div class="line">                } <span class="keywordflow">else</span> {</div>
<div class="line">                    $this-&gt;<a class="code" href="classSmarty__Internal__TemplateCompilerBase.html#a904ca6d61228f403b2d9df9fd13500bf">trigger_template_error</a>(<span class="stringliteral">&quot;Default plugin handler: Returned script file \&quot;{$script}\&quot; for \&quot;{$tag}\&quot; not found&quot;</span>);</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">if</span> (!is_string($callback) &amp;&amp; !(is_array($callback) &amp;&amp; is_string($callback[0]) &amp;&amp; is_string($callback[1]))) {</div>
<div class="line">                $this-&gt;<a class="code" href="classSmarty__Internal__TemplateCompilerBase.html#a904ca6d61228f403b2d9df9fd13500bf">trigger_template_error</a>(<span class="stringliteral">&quot;Default plugin handler: Returned callback for \&quot;{$tag}\&quot; must be a static function name or array of class and function name&quot;</span>);</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">if</span> (is_callable($callback)) {</div>
<div class="line">                $this-&gt;default_handler_plugins[$plugin_type][$tag] = array($callback, <span class="keyword">true</span>, array());</div>
<div class="line">                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">            } <span class="keywordflow">else</span> {</div>
<div class="line">                $this-&gt;<a class="code" href="classSmarty__Internal__TemplateCompilerBase.html#a904ca6d61228f403b2d9df9fd13500bf">trigger_template_error</a>(<span class="stringliteral">&quot;Default plugin handler: Returned callback for \&quot;{$tag}\&quot; not callable&quot;</span>);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af455d4c2dd89dd999c61bb2e892ebe6a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Smarty_Internal_TemplateCompilerBase::processNocacheCode </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$content</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$is_code</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Inject inline code for nocache template sections</p>
<p>This method gets the content of each template element from the parser. If the content is compiled code and it should be not cached the code is injected into the rendered output.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$content</td><td>content of template element </td></tr>
    <tr><td class="paramtype">boolean</td><td class="paramname">$is_code</td><td>true if content is compiled code </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string content </dd></dl>

<p>Definition at line <a class="el" href="smarty__internal__templatecompilerbase_8php_source.html#l00588">588</a> of file <a class="el" href="smarty__internal__templatecompilerbase_8php_source.html">smarty_internal_templatecompilerbase.php</a>.</p>
<div class="fragment"><div class="line">                                                           {</div>
<div class="line">        <span class="comment">// If the template is not evaluated and we have a nocache section and or a nocache tag</span></div>
<div class="line">        <span class="keywordflow">if</span> ($is_code &amp;&amp; !empty($content)) {</div>
<div class="line">            <span class="comment">// generate replacement code</span></div>
<div class="line">            <span class="keywordflow">if</span> ((!($this-&gt;<a class="code" href="classtemplate.html">template</a>-&gt;source-&gt;recompiled) || $this-&gt;forceNocache) &amp;&amp; $this-&gt;template-&gt;caching &amp;&amp; !$this-&gt;suppressNocacheProcessing &amp;&amp;</div>
<div class="line">                    ($this-&gt;nocache || $this-&gt;tag_nocache || $this-&gt;forceNocache == 2)) {</div>
<div class="line">                $this-&gt;<span class="keyword">template</span>-&gt;has_nocache_code = <span class="keyword">true</span>;</div>
<div class="line">                $_output = str_replace(<span class="stringliteral">&quot;&#39;&quot;</span>, <span class="stringliteral">&quot;\&#39;&quot;</span>, $content);</div>
<div class="line">                $_output = str_replace(<span class="stringliteral">&#39;\\\\&#39;</span>, <span class="stringliteral">&#39;\\\\\\\\&#39;</span>, $_output);</div>
<div class="line">                $_output = str_replace(<span class="stringliteral">&quot;^#^&quot;</span>, <span class="stringliteral">&quot;&#39;&quot;</span>, $_output);</div>
<div class="line">                $_output = <span class="stringliteral">&quot;&lt;?php echo &#39;/*%%SmartyNocache:{$this-&gt;nocache_hash}%%*/&quot;</span> . $_output . <span class="stringliteral">&quot;/*/%%SmartyNocache:{$this-&gt;nocache_hash}%%*/&#39;;?&gt;\n&quot;</span>;</div>
<div class="line">                <span class="comment">// make sure we include modifer plugins for nocache code</span></div>
<div class="line">                <span class="keywordflow">foreach</span> ($this-&gt;modifier_plugins as $plugin_name =&gt; $dummy) {</div>
<div class="line">                    <span class="keywordflow">if</span> (isset($this-&gt;<a class="code" href="classtemplate.html">template</a>-&gt;required_plugins[<span class="stringliteral">&#39;compiled&#39;</span>][$plugin_name][<span class="stringliteral">&#39;modifier&#39;</span>])) {</div>
<div class="line">                        $this-&gt;<span class="keyword">template</span>-&gt;required_plugins[<span class="stringliteral">&#39;nocache&#39;</span>][$plugin_name][<span class="stringliteral">&#39;modifier&#39;</span>] = $this-&gt;<span class="keyword">template</span>-&gt;required_plugins[<span class="stringliteral">&#39;compiled&#39;</span>][$plugin_name][<span class="stringliteral">&#39;modifier&#39;</span>];</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line">            } <span class="keywordflow">else</span> {</div>
<div class="line">                $_output = $content;</div>
<div class="line">            }</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            $_output = $content;</div>
<div class="line">        }</div>
<div class="line">        $this-&gt;modifier_plugins = array();</div>
<div class="line">        $this-&gt;suppressNocacheProcessing = <span class="keyword">false</span>;</div>
<div class="line">        $this-&gt;tag_nocache = <span class="keyword">false</span>;</div>
<div class="line">        <span class="keywordflow">return</span> $_output;</div>
<div class="line">    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a904ca6d61228f403b2d9df9fd13500bf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Smarty_Internal_TemplateCompilerBase::trigger_template_error </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$args</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$line</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>display compiler error messages without dying</p>
<p>If parameter $args is empty it is a parser detected syntax error. In this case the parser is called to obtain information about expected tokens.</p>
<p>If parameter $args contains a string this is used as error message</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$args</td><td>individual error message or null </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$line</td><td>line-number </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classSmartyCompilerException.html">SmartyCompilerException</a></td><td>when an unexpected token is found </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="smarty__internal__templatecompilerbase_8php_source.html#l00629">629</a> of file <a class="el" href="smarty__internal__templatecompilerbase_8php_source.html">smarty_internal_templatecompilerbase.php</a>.</p>
<div class="fragment"><div class="line">                                                                       {</div>
<div class="line">        <span class="comment">// get template source line which has error</span></div>
<div class="line">        <span class="keywordflow">if</span> (!isset($line)) {</div>
<div class="line">            $line = $this-&gt;lex-&gt;line;</div>
<div class="line">        }</div>
<div class="line">        $match = preg_split(<span class="stringliteral">&quot;/\n/&quot;</span>, $this-&gt;lex-&gt;data);</div>
<div class="line">        $error_text = <span class="stringliteral">&#39;Syntax Error in template &quot;&#39;</span> . $this-&gt;<span class="keyword">template</span>-&gt;source-&gt;filepath . <span class="stringliteral">&#39;&quot;  on line &#39;</span> . $line . <span class="stringliteral">&#39; &quot;&#39;</span> . htmlspecialchars(trim(preg_replace(<span class="stringliteral">&#39;![\t\r\n]+!&#39;</span>, <span class="charliteral">&#39; &#39;</span>, $match[$line - 1]))) . <span class="stringliteral">&#39;&quot; &#39;</span>;</div>
<div class="line">        <span class="keywordflow">if</span> (isset($args)) {</div>
<div class="line">            <span class="comment">// individual error message</span></div>
<div class="line">            $error_text .= $args;</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            <span class="comment">// expected token from parser</span></div>
<div class="line">            $error_text .= <span class="stringliteral">&#39; - Unexpected &quot;&#39;</span> . $this-&gt;lex-&gt;value . <span class="charliteral">&#39;&quot;&#39;</span>;</div>
<div class="line">            <span class="keywordflow">if</span> (count($this-&gt;parser-&gt;yy_get_expected_tokens($this-&gt;parser-&gt;yymajor)) &lt;= 4) {</div>
<div class="line">                <span class="keywordflow">foreach</span> ($this-&gt;parser-&gt;yy_get_expected_tokens($this-&gt;parser-&gt;yymajor) as $token) {</div>
<div class="line">                    $exp_token = $this-&gt;parser-&gt;yyTokenName[$token];</div>
<div class="line">                    <span class="keywordflow">if</span> (isset($this-&gt;lex-&gt;smarty_token_names[$exp_token])) {</div>
<div class="line">                        <span class="comment">// token type from lexer</span></div>
<div class="line">                        $expect[] = <span class="charliteral">&#39;&quot;&#39;</span> . $this-&gt;lex-&gt;smarty_token_names[$exp_token] . <span class="charliteral">&#39;&quot;&#39;</span>;</div>
<div class="line">                    } <span class="keywordflow">else</span> {</div>
<div class="line">                        <span class="comment">// otherwise internal token name</span></div>
<div class="line">                        $expect[] = $this-&gt;parser-&gt;yyTokenName[$token];</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line">                $error_text .= <span class="stringliteral">&#39;, expected one of: &#39;</span> . implode(<span class="stringliteral">&#39; , &#39;</span>, $expect);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classSmartyCompilerException.html">SmartyCompilerException</a>($error_text);</div>
<div class="line">    }</div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>template/libs/sysplugins/<a class="el" href="smarty__internal__templatecompilerbase_8php_source.html">smarty_internal_templatecompilerbase.php</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classSmarty__Internal__TemplateCompilerBase.html">Smarty_Internal_TemplateCompilerBase</a></li>
    <li class="footer">Generated on Fri Jul 26 2013 23:26:11 for Family Tree by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.1.2 </li>
  </ul>
</div>
</body>
</html>
